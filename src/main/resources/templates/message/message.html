<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>
<body class="container">
<h1 th:text="${title}">Default Title</h1>

<nav th:replace="fragments :: navigation"></nav>

<!--TODO display a single message, include reply form-->
<br>

<small style="color: gray;" th:inline="text"> by <small  th:text="${post.user.name}"/></small>
<br>
<br>
<p th:text="${post.body}"></p>
<small  style="text-size: 5pt; color: gray" name="date" th:inline="text">Created: <small th:text="${post.created}"/> </small>

<br>
<br>
<h4 style="color: gray;" th:inline="text" >Comments (<small th:text="${post.comments.size()}"></small>)</h4>
<form th:action="'/add-comment/' + ${post.id}" method="post" th:object="${comment}">
    <label th:for="commentBody">Add comment (500 characters max): </label>
    <textarea style="width: 500px;" name="commentBody" class="form-control" th:field="*{commentBody}"></textarea>
    <span th:errors="*{commentBody}" class="error"></span>
    <input name="id" type="hidden" th:value="${post.id}"/>
    <br>
    <input type="submit">
</form>
<br>
<table th:each="postComment : ${post.comments}">
    <p th:text="${postComment.commentBody}"></p>
    <small  style="text-size: 5pt; color: gray" name="create" th:inline="text">Created: <small th:text="${postComment.created}"/></small>
    <small style="color: gray;" th:inline="text"> by <small  th:text="${postComment.user.name}"/></small>
    <br>
    <br>

</table>


</body>
</html>